# 1.浮动（float）

**目标**

- 记忆
  - 能够说出CSS的布局的三种机制
- 理解
  - 能够说出普遍流在布局中的特点
  - 能够说出我们为什么用浮动
  - 能够说出我们为什么要清除浮动
- 应用
  - 能够利用浮动完成导航栏案例
  - 能够清除浮动
  - 能够使用ps切图工具

## 1.1 CSS布局的三种机制

网页布局的核心，用CSS来摆放盒子。

CSS提供**3种机制**来设置盒子的摆放位置：**普通流（标准流）**、**浮动**、**定位**。

1. 普通流（标准流）
   - **块级元素**会独占一行，**从上向下**顺序排列：
     - 常用元素：div、hr、p、h1-h6、ul、ol、dl、form、table
   - **行内元素**会按照顺序，**从左到右**顺序排列，碰到父元素边缘则自动换行；
     - 常用元素：span、a、i、em等
2. 浮动
   - 让盒子从普通流中浮起来，主要作用让多个块级盒子一行显示。
3. 定位
   - 将盒子定在浏览器的某一位置——CSS刘凯定位，特别是后面的js特效。

## 1.2 为什么需要浮动

思考题：

1. 如何让多个盒子(div)水平排列成一行？

   用display转换成行内块的话，盒子与盒子之间会有缝隙，这个缝隙很难去掉，就算去掉的话兼容性也极差。

2. 如何实现盒子的左右对齐？

- 虽然我们前面学过inline-block，但是它却有自己的缺陷：
  - 它可以实现多个元素一行显示，但是中间会有空白空隙，不能满足以上第一个问题。
  - 它不能实现以上第二个问题，盒子左右对齐。

## 1.3 什么是浮动（float）

**概念：**元素的浮动是指**设置了浮动属性的元素**会**脱离标准普通流**的控制，移动到指定位置的过程。

**作用**

1. **让多个盒子(div)水平排列成一行**，使得浮动成为布局的重要手段。
2. 可以实现盒子的左右对齐等等。
3. 浮动最早是用来**控制图片**，实现**文字环绕图片的效果**。

```css
选择器 { float: 属性值;}
```

| 属性值 | 描述               |
| ------ | ------------------ |
| none   | 元素不浮动（默认） |
| left   | 元素向左浮动       |
| right  | 元素向右浮动       |

**（1）浮动口诀之 浮**

浮动——漂浮在普通流的上面，脱离标准流

```css
.box1 {
    width: 200px;
    height: 200px;
    background-color: rgba(255,0,0,0.5);
    float: left;
}
.box2 {
    width: 150px;
    height: 300px;
    background-color: skyblue;
}
```

**（2）浮动口诀之 漏**

浮动——漏 把自己原来的位置漏给下面的标准流的盒子，就是不占有原来的位置，是脱离标准流的，我们俗称”脱标“。

即box2跑到box1盒子下面去了，被box1给压住了，遮挡起来了。

**（3）浮动口诀之 特**

浮动——特性 float属性会改变元素的display属性。

任何元素都可以浮动，浮动元素会生成一个块级框，而不论它本身是何种元素。生成的块级框和我们前面的行内块极其相似。

```html
<head>
    <style>
    	.one,
        .two {
            width:200px;
            height: 200px;
            background-color: pink;
        }
        .one {
            float: left;
        }
        .two {
            background-color: purple;
            float: left;
        }
        /*两个盒子都设置了float，则两个盒子类似行内块一样并排显示在一行上，且没有空隙*/
        /*若purple盒子不设置float，则purple就会占用原来pink盒子的位置（因为pink盒子浮起来了）从而被pink盒子覆盖*/
    </style>
</head>
<body>
    <div class="one"></div>
    <div class="two"></div>
</body>
```

- **注意：浮动的元素是互相贴靠在一起的，但是如果父级宽度装不下这些浮动盒子，多出的盒子会另起一行对齐**

## 1.4 浮动（float）的应用（重要）

**浮动和标准流的父盒子搭配**

浮动是脱标的，会影响下面的标准流元素，此时，我们需要给浮动的元素加一个标准流的父亲，这样，最大化地减少了对其他标准流的影响。

> 一个完整的网页，是 标准流 + 浮动 + 我们后面要讲的定位 一起完成的。

## 1.5 导航栏案例

实际重要的导航栏中，我们不会直接用链接a而是用li包含链接（li+a）的做法。

1. li+a语义更清晰，一看这就是有条理的列表型内容。
2. 如果直接用a，搜索引擎容易辨别为有堆砌关键字嫌疑（故意堆砌关键字容易被搜索引擎有降权的风险），从而影响网站排名。

## 1.6 浮动（float）的扩展

**（1）浮动元素与父盒子的关系**

- 子盒子的浮动参照父盒子对齐
- 不会与父盒子的边框重叠，也不会超过父盒子的内边距

**（2）浮动元素与兄弟盒子的关系**

在一个父级盒子里，如果**前一个兄弟盒子**是：

- 浮动的，那么当前盒子会与前一个盒子的顶部对齐（两个盒子上沿对齐）；
- 普通流的，那么当前盒子会显示在前一个兄弟盒子下方。（位置不变）

> 浮动只会影响当前的或者后面的盒子，不会影响前面的标准流。

**建议：如果一个盒子里面有多个盒子，若其中一个盒子浮动了，其他兄弟也应该浮动，防止引起问题**

# 2. 清除浮动

## 2.1 为什么要清除浮动

因为父级盒子很多情况下不方便给高度，但是盒子浮动就不占位置，最后父级盒子高度为0，就影响了下面的标准流盒子。

有时候父盒子里面的元素多少不确定，所以我们不给父级盒子高度，而是让父级盒子里的子元素把父级盒子撑开。但是这时候，当子盒子浮动时，浮动的盒子不占空间，不能把父级盒子撑开，这时候父级盒子高度就变成0，后面的标准流就会上前占用空间，可能会出现浮动盒子把父级盒子下面的标准流覆盖的问题。

准确的说，不是清除浮动，而是清除**浮动后造成的影响**。

## 2.2 清除浮动的本质

主要是为了解决父级元素因为子级浮动引起内部高度为0的问题。

清除浮动之后，父级就会根据浮动的子盒子自动检测高度。父级有了高度，就不会影响下面的标准流了。

## 2.3 清除浮动的方法（clear）

在CSS中，clear属性用于清除浮动，在这里，我们先记住清除浮动的方法，具体原理，等我们学完CSS再回头分析。

```css
选择器 {clear:属性值;}
```

| 属性值 | 概述                                       |
| ------ | ------------------------------------------ |
| left   | 不允许左侧有浮动元素（清除左侧浮动的影响） |
| right  | 不允许右侧有浮动元素（清除右侧浮动的影响） |
| both   | 同时清除左右两侧浮动的影响                 |

但是我们在实际工作中，几乎只用clear: both;

### （1）额外标签法（隔墙法）

```css
是W3C推荐的做法：在（最后一个）浮动元素末尾添加一个空的标签例如<div style="clear:both;" ></div>，或则其他标签br等亦可。
```

- 优点：通俗易懂，书写方便
- 缺点：添加许多无意义的标签，结构化较差。

### （2）父级添加overflow属性方法

```css
可以给父级添加：   overflow为 hidden（溢出部分隐藏） | auto（多了垂直滚动条） | scroll （多了垂直和水平的滚动条）都可以实现。
```

优点：代码简洁

缺点：内容增多时容易造成不会自动换行导致内容被隐藏掉，无法显示需要溢出的元素。

### （3）使用after伪元素清除浮动

**:after** 方式为空元素**额外标签法的升级版**，好处是不用单独加标签了。

```css
.clearfix:after {
    content: "";
    display: block;
    height: 0;
    clear: both;
    visibility: hidden;
}
.clearfix {
    *zoom: 1;  /*ie6,7专有*/
}
```

- 优点：符合闭合浮动思想，结构语义化正确
- 缺点： 由于IE6-7不支持:after，使用zoom: 1; 触发 hasLayout。
- 代表网站： 百度、淘宝网、网易等。

### （4）使用双伪元素清除浮动

```css
.clearfix:before,
.clearfix:after {
    content: "";
    display: table;
}
.clearfix:after {
    clear: both;
}
.clearfix {
    *zoom: 1;
}
调用的时候还是父盒子<div class="clearfix">子盒子</div>
```

- 优点：代码简洁
- 缺点：由于IE6-7不支持after，使用zoom: 1; 触发hasLayout。
- 代表网站：小米、腾讯等。

## 2.4 清除浮动总结

什么时候清除浮动：

1. 父级没高度
2. 子盒子浮动了
3. 影响下面布局了，我们就应该清除浮动了。

| 清除浮动的方式       | 优点               | 缺点                             |
| -------------------- | ------------------ | -------------------------------- |
| 额外标签法（隔离法） | 通俗易懂，书写方便 | 添加许多无意义标签，结构化较差   |
| 父级overflow：hidden | 书写简单           | 溢出隐藏                         |
| 父级伪元素           | 结构语义化正确     | 由于IE6-7不支持after，兼容性问题 |
| 父级双伪元素         | 结构语义化正确     | 由于IE6-7不支持after，兼容性问题 |

后面两种伪元素清除浮动，暂时理解会用就好，深入原理，后面学完伪元素再讲。

# 3. Photoshop切图

**常见的图片格式**

```markdown
1..jpg图像格式：
JPEG(.JPG)对色彩的信息保留较好，高清，颜色较多，我们产品类的图片经常用jpg格式。

2.gif图像格式
GIF格式最多只能存储256色，所以通常用来显示简单图形及字体，但是可以保存透明背景和动画效果。

3.png图像格式
是一种新兴的网络图形格式，结合了GIF和JPEG的优点，具有存储形式丰富的特点，能够保持透明背景。

4.PSD图像格式
PSD格式是Photoshop的专用格式，里面可以存放图层、通道、遮罩等多种设计草稿。
```

## （1）PS切片工具

PS切图 可以分为 手动切片切图 以及 利用PS的插件快速切图

PS切图片，分两大步：

**（1）用切片选中图片**

- 利用切片工具手动划出
- 图层菜单---新建基于图层的切片
- 利用标尺   基于参考线的切片（选择切片工具）
- 先选个一个整个的切片，切片选择工具---属性面板中有"划分" --可以等分数平分切图

**（2）导出切片**

文件菜单---存储为web设备所用格式 --- 选择 我们要的图片格式 --- 点存储 --- 别忘了选中的切片

**辅助线和切片使用及清除**

视图菜单 --- 清除 辅助线/清除切片

## （2）切图插件

Cutterman是一款运行在Photoshop中的插件，能够自动将你需要的图层进行输出，以替代传统的手工"导出web所用格式"以及使用切片工具进行挨个切图的繁琐流程。它支持各种各样的图片尺寸、格式、形态输出，方便你在pc、ios、Android等端上使用。它不需要你记住一堆的语法、规则，纯点击操作，方便、快捷，易于上手。

官网：http://www/cutterman.cn/zh/cutterman

注意：cutterman插件要求你的ps必须是完整版，不能是绿色版，所以大家需要从新安装完整版本。